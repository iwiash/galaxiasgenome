## Minimap2

Rerun minimap2 on HiC primary assembly

```
#!/bin/bash -e
#SBATCH --job-name=gbminimaphic # Job name (shows up in the queue)
#SBATCH --time=20:00:00      # Walltime (HH:MM:SS) 48h
#SBATCH --mem=32G            # Memory in MB
#SBATCH --account=uoo02831
#SBATCH --cpus-per-task=16

module load minimap2/2.24-GCC-11.3.0
module load SAMtools/1.16.1-GCC-11.3.0

minimap2 \
    -t 16 -ax map-hifi \
    GB_full_HIC.p_ctg.fa gbrev_hifi_reads.fq.gz \
    --secondary=no | samtools sort -m 5G -o hic_asm_minimap_align.bam -T temp.ali \
    2> minimap2_hic_errors.log

echo "alignment and file conversion complete"

```
 need a paf file for purgedups
 ```
#!/bin/bash -e
#SBATCH --job-name=gbminimaphic # Job name (shows up in the queue)
#SBATCH --time=20:00:00      # Walltime (HH:MM:SS) 48h
#SBATCH --mem=32G            # Memory in MB
#SBATCH --account=uoo02831
#SBATCH --cpus-per-task=16

module load minimap2/2.24-GCC-11.3.0

minimap2 \
	-t 16 -ax map-hifi \
	GB_full_HIC.p_ctg.fa gbrev_hifi_reads.fq.gz \
	> hic_minimap_align.paf \
	2> minimap_paf_errors.log

echo "alignment complete"

gzip -c hic_minimap_align.paf > hic_minimap_align.paf.gz

echo "compression complete"

```


## Purge_dups

```
module load purge_dups
```

```
pbcstat hic_minimap_align.paf 
```
produces PB.base.cov and PB.stat files - not complat with Sebastian ver minimap i dont think so rerunning

## Longstitch

```
longstitch run draft=(purgedassemblyname).fa reads=gbrev_hifi_reads.fq.gz t=8 out_prefix=gb_hic_fulldraft G=(genome haploid size) longmap=hifi
```
check this over but this is my guess of the parameters i need

