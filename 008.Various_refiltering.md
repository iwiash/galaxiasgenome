rmindiv_only_lowdata.txt:
```
## negative ctrls
GBSNEG1
GBSNEG2
GBSNEG4
## low data indvs
KOARO_CHL10
KOARO_LSL75
KOARO_Mar-14
KOARO_Bre_11
KOARO_LSL74
KOARO_CHL69
KOARO_Par_3
KOARO_CHL68
KOARO_12Mile19
KOARO_CHL13
KOARO_LSL53
KOARO_Bre_7
KOARO_LSL52
KOARO_CHL18
KOARO_GB320
```
refilter for allsamples.
```
Parameters as interpreted:
vcftools \
	--vcf ../filtered.recode.vcf \
	--exclude-positions ../snps.to.rm.txt \
	--remove rmindiv_only_lowdata.txt \
	--max-missing 0.8 \
	--out master_vcf_all_samples_no_lowdata_nov25_scratch \
	--recode
```
## renamed slightly nov 25 - all following methods use the same data just under a different name (allsamples...)
now were gonna take this to iqtree first (use all the snps to construct the tree)  then filter it for maf 0.01 and take it thru pgdspider/bayescan

```
#!/bin/bash -e
#SBATCH --job-name=gbrefiltered_iqtree_gtr # Job name (shows up in the queue)
#SBATCH --time=5:00:00      # Walltime (HH:MM:SS) 48h
#SBATCH --mem=32G            # Memory in MB
#SBATCH --account=uoo02831
#SBATCH --cpus-per-task=16

module purge

module load IQ-TREE

iqtree2 -nt 16 -s ../all_samples.recode.min4.phy -st DNA -m GTR+G -bb 1000  -pre gb_allsamples_inclref_tree_gtr

echo "tree complete"
```
modelfinder:
```
#!/bin/bash -e
#SBATCH --job-name=gbrefiltered_iqtree_mfp # Job name (shows up in the queue)
#SBATCH --time=5:00:00      # Walltime (HH:MM:SS) 48h
#SBATCH --mem=32G            # Memory in MB
#SBATCH --account=uoo02831
#SBATCH --cpus-per-task=32

module purge

module load IQ-TREE

iqtree2 -nt 32 -s ../all_samples.recode.min4.phy -st DNA -m MFP -bb 1000  -pre gb_allsamples_inclref_tree_modelfinder

echo "tree complete"
```

tree didnt converge last time so heres one with the iterations upped to 5000:
```
#!/bin/bash -e
#SBATCH --job-name=gbrefiltered_iqtree_mfp # Job name (shows up in the queue)
#SBATCH --time=20:00:00      # Walltime (HH:MM:SS) 48h
#SBATCH --mem=32G            # Memory in MB
#SBATCH --account=uoo02831
#SBATCH --cpus-per-task=32

module purge

module load IQ-TREE

iqtree2 -nt 32 -s ../all_samples.recode.min4.phy -st DNA -m MFP -bb 1000 -nm 5000 -pre gb_allsamples_inclref_tree_modelfinder

echo "tree complete"
```

## pgdspider convert 

take vcf and turn to geste.

after a bit of pissing around ive found that you can up the memory pgdspider can use by going into the folder in bash and doing this
```
java -Xmx2048m -Xms1024M -jar PGDSpider3.jar
```
ups the mem from 1 to 2 gb - enough to run the allsamples one

output: all_samples_bayescan_input.geste
